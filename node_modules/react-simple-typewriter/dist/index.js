function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = require('react');
var React__default = _interopDefault(React);

var index = React.memo(function Typewriter(_ref) {
  var loop = _ref.loop,
      typeSpeed = _ref.typeSpeed,
      deleteSpeed = _ref.deleteSpeed,
      delaySpeed = _ref.delaySpeed,
      words = _ref.words,
      cursor = _ref.cursor,
      cursorStyle = _ref.cursorStyle;

  var _useState = React.useState(100),
      speed = _useState[0],
      setSpeed = _useState[1];

  var _useState2 = React.useState(''),
      text = _useState2[0],
      setText = _useState2[1];

  var isDeleting = React.useRef(false);
  var counter = React.useRef(0);
  var handleTyping = React.useCallback(function () {
    var index = loop ? counter.current % words.length : counter.current;
    var word = words[index];
    setSpeed(typeSpeed || 100);

    if (isDeleting.current) {
      setSpeed(deleteSpeed || 50);
      setText(function (prev) {
        return word.substring(0, prev.length - 1);
      });

      if (text === '') {
        isDeleting.current = false;
        counter.current = counter.current + 1;
      }
    } else {
      setText(function (prev) {
        return word.substring(0, prev.length + 1);
      });

      if (text === word) {
        if (!loop) return;
        setSpeed(delaySpeed || 1500);
        isDeleting.current = true;
      }
    }
  }, [delaySpeed, deleteSpeed, loop, text, typeSpeed, words]);
  React.useEffect(function () {
    var timer = setTimeout(function () {
      return handleTyping();
    }, speed);
    return function () {
      return clearTimeout(timer);
    };
  }, [handleTyping, speed]);
  return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement("span", null, text), cursor && /*#__PURE__*/React__default.createElement("span", {
    className: "blinking-cursor"
  }, cursorStyle || '|'));
});

module.exports = index;
//# sourceMappingURL=index.js.map

import React, { memo, useState, useRef, useCallback, useEffect } from 'react';

var index = memo(function Typewriter(_ref) {
  var loop = _ref.loop,
      typeSpeed = _ref.typeSpeed,
      deleteSpeed = _ref.deleteSpeed,
      delaySpeed = _ref.delaySpeed,
      words = _ref.words,
      cursor = _ref.cursor,
      cursorStyle = _ref.cursorStyle;

  var _useState = useState(100),
      speed = _useState[0],
      setSpeed = _useState[1];

  var _useState2 = useState(''),
      text = _useState2[0],
      setText = _useState2[1];

  var isDeleting = useRef(false);
  var counter = useRef(0);
  var handleTyping = useCallback(function () {
    var index = loop ? counter.current % words.length : counter.current;
    var word = words[index];
    setSpeed(typeSpeed || 100);

    if (isDeleting.current) {
      setSpeed(deleteSpeed || 50);
      setText(function (prev) {
        return word.substring(0, prev.length - 1);
      });

      if (text === '') {
        isDeleting.current = false;
        counter.current = counter.current + 1;
      }
    } else {
      setText(function (prev) {
        return word.substring(0, prev.length + 1);
      });

      if (text === word) {
        if (!loop) return;
        setSpeed(delaySpeed || 1500);
        isDeleting.current = true;
      }
    }
  }, [delaySpeed, deleteSpeed, loop, text, typeSpeed, words]);
  useEffect(function () {
    var timer = setTimeout(function () {
      return handleTyping();
    }, speed);
    return function () {
      return clearTimeout(timer);
    };
  }, [handleTyping, speed]);
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("span", null, text), cursor && /*#__PURE__*/React.createElement("span", {
    className: "blinking-cursor"
  }, cursorStyle || '|'));
});

export default index;
//# sourceMappingURL=index.modern.js.map
